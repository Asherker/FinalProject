<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>食物管理</title>
  
  <!-- 引入axios套件，用來透過HTTP協定在網頁內呼叫後端的API -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- 引入Vue.js -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <!-- 引入Element UI介面庫-->
  <!-- Import style -->
  <link rel="stylesheet" href="//unpkg.com/element-plus/dist/index.css" />
  <!-- Import Vue 3 -->
  <script src="//unpkg.com/vue@3"></script>
  <!-- Import component library -->
  <script src="//unpkg.com/element-plus"></script>
  
  <link rel="stylesheet" href="food-style.css">

</head>

<body id="app">
  <table>
    <thead>
      <tr>
        <th>名稱</th>
        <th>類別</th>
        <th>卡洛里</th>
        <th>蛋白質</th>
        <th>飽和脂肪</th>
        <th>總碳水化合物</th>
        <th>膳食纖維</th>
      </tr>
      <thead>
      <tbody>
        <tr v-for="item in foods">
          <td>{{ item.name }}</td>
          <td>{{ item.category }}</td>
          <td>{{ item.calories }}</td>
          <td>{{ item.protein }}</td>
          <td>{{ item.saturatedFat }}</td>
          <td>{{ item.totalCarbohydrates }}</td>
          <td>{{ item.dietaryFiber }}</td>
        </tr>
      </tbody>
  </table>
  <br/>
  <el-pagination background layout="prev, pager, next" :total="1000" style="justify-content: center;"
    @size-change="onSizeChange"
    @current-change="onCurrentChange"
    @prev-click="onPrevClick"
    @next-click="onNextClick"
  />
  
</body>

<script>


  // Vue初始化
  const { createApp } = Vue

  createApp({
    data() {
      // 網頁要使用的變數放這裡
      return {
        message: 'Hello Vue!',
        foods: [],
       
      }
    },
    // 當網頁載入完成後會被Vue框架呼叫
    mounted() {
      // 打API
      axios.get("/demo/foods?page=1&count=12")
        .then((response) => {
          // get完成後收到的資料可以在這裡處理
          console.log(response);
          // 將API的商品資料存到Vue建立的products變數
          if (response.data.code == 0) {
            // 將API拿到的data存到Vue變數
            this.foods = response.data.data;
          }
        })
        .catch((error) => {
          console.log(error);
        });
    },
    // 網頁要用的方法寫在這裡
    methods: {
      
    }
  }).use(ElementPlus).mount('#app')
</script>

</html>